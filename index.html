<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>SFES SPTA Transparency Portal</title>
  <meta name="description" content="San Francisco Elementary School (Kiko Rosa, Brgy. San Francisco, General Trias City) – SPTA Transparency Portal." />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">
  
  <style>
    :root{--brand:#0d6efd;--muted:#6c757d}
    html,body{font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;background:#f7f8fa}
    .shadow-soft{box-shadow:0 8px 30px rgba(0,0,0,.06)}
    .card{border:0;border-radius:1rem}
    .section-title{font-weight:700}
    .sidebar-sticky{position:sticky;top:84px}
    .nav-vert .nav-link{border-radius:.75rem;text-align:left}
    .nav-vert .nav-link.active{background:var(--brand);color:#fff}
    @media (max-width: 767.98px){ .kpi .card-body{text-align:center} }
    @media print{.no-print{display:none!important}body{background:#fff}}
  </style>
</head>
<body>
  <!-- Top Bar -->
  <header class="bg-white border-bottom sticky-top">
    <div class="container py-2 d-flex align-items-center">
      <a class="d-flex align-items-center gap-2 text-decoration-none" href="#">
        <span class="badge text-bg-primary rounded-pill">SPTA</span>
        <span class="text-dark">
          <div class="fw-bold lh-1">San Francisco Elementary School</div>
          <small class="text-muted">Kiko Rosa, Brgy. San Francisco, General Trias City</small>
        </span>
      </a>
    </div>
  </header>

  <!-- Hero -->
  <section class="bg-primary text-white py-4 border-bottom">
    <div class="container">
      <h1 class="h3 mb-2">SPTA Transparency Portal</h1>
      <p class="mb-0 opacity-75">Real-time view of resolutions, finances, projects, and officers.</p>
    </div>
  </section>

  <!-- Layout -->
  <div class="container py-3">
    <div class="row g-3">
      <!-- Sidebar -->
      <aside class="col-lg-3 d-none d-lg-block">
        <div class="sidebar-sticky">
          <div class="card shadow-soft">
            <div class="card-body">
              <h2 class="h6 text-muted mb-3">Menu</h2>
              <div class="nav nav-pills flex-column nav-vert">
                <button class="nav-link active" data-bs-toggle="pill" data-bs-target="#tab-dashboard">Dashboard</button>
                <button class="nav-link" data-bs-toggle="pill" data-bs-target="#tab-resolutions">Resolutions</button>
                <button class="nav-link" data-bs-toggle="pill" data-bs-target="#tab-officers">Officers</button>
              </div>
            </div>
          </div>
        </div>
      </aside>

      <!-- Content -->
      <main class="col-12 col-lg-9 tab-content">
        <!-- Dashboard -->
        <section class="tab-pane fade show active" id="tab-dashboard">
          <div class="card shadow-soft"><div class="card-body">
            <h2 class="h5 section-title mb-3">Dashboard</h2>
            <p class="mb-0 text-muted">Welcome to the SFES SPTA Transparency Portal.</p>
          </div></div>
        </section>

        <!-- Resolutions -->
        <section class="tab-pane fade" id="tab-resolutions">
          <h2 class="h5 section-title mb-3">SPTA Resolutions</h2>

          <!-- Tabs -->
          <ul class="nav nav-pills gap-2 flex-wrap mb-3" id="resoTabs" role="tablist">
            <li class="nav-item" role="presentation">
              <button class="btn btn-outline-primary active" data-bs-toggle="pill" data-bs-target="#res-proposed" type="button" role="tab">Proposed</button>
            </li>
            <li class="nav-item" role="presentation">
              <button class="btn btn-outline-primary" data-bs-toggle="pill" data-bs-target="#res-pending" type="button" role="tab">Approved – Pending Signatures</button>
            </li>
            <li class="nav-item" role="presentation">
              <button class="btn btn-outline-primary" data-bs-toggle="pill" data-bs-target="#res-approved" type="button" role="tab">Approved</button>
            </li>
          </ul>

          <!-- Content -->
          <div class="tab-content mt-2">
            <!-- Proposed -->
            <div class="tab-pane fade show active" id="res-proposed" role="tabpanel">
              <div class="card shadow-soft"><div class="card-body">
                <div class="table-responsive">
                  <table class="table table-sm align-middle mb-0" id="tbl-proposed">
                    <thead class="table-light">
                      <tr>
                        <th style="width:95px">Reso No.</th>
                        <th>Title</th>
                        <th style="width:220px">Introduced By</th>
                        <th style="width:380px">Basis</th>
                      </tr>
                    </thead>
                    <tbody></tbody>
                  </table>
                </div>
              </div></div>
            </div>

            <!-- Approved – Pending Signatures -->
            <div class="tab-pane fade" id="res-pending" role="tabpanel">
              <div class="card shadow-soft"><div class="card-body">
                <div class="table-responsive">
                  <table class="table table-sm align-middle mb-0" id="tbl-pending">
                    <thead class="table-light">
                      <tr>
                        <th style="width:95px">Reso No.</th>
                        <th>Title</th>
                        <th style="width:220px">Introduced By</th>
                        <th style="width:380px">Basis</th>
                      </tr>
                    </thead>
                    <tbody></tbody>
                  </table>
                </div>
              </div></div>
            </div>

            <!-- Approved -->
            <div class="tab-pane fade" id="res-approved" role="tabpanel">
              <div class="card shadow-soft"><div class="card-body">
                <div class="table-responsive">
                  <table class="table table-sm align-middle mb-0" id="tbl-approved">
                    <thead class="table-light">
                      <tr>
                        <th style="width:95px">Reso No.</th>
                        <th>Title</th>
                        <th style="width:220px">Introduced By</th>
                        <th style="width:380px">Basis</th>
                      </tr>
                    </thead>
                    <tbody></tbody>
                  </table>
                </div>
              </div></div>
            </div>
          </div>
        </section>

        <!-- Officers -->
        <section class="tab-pane fade" id="tab-officers">
          <h2 class="h5 section-title mb-3">SPTA Officers (SY 2025–2026)</h2>
          <div class="row row-cols-2 row-cols-md-3 row-cols-xl-4 g-3" id="officersGrid"></div>
        </section>
      </main>
    </div>
  </div>

  <footer class="py-4 text-center text-muted small">
    <div>© <span id="year"></span> SFES SPTA • Designed by Joven Moralejo</div>
  </footer>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    // --- Sample dataset with three statuses ---
    const resolutionsData = [
      {no:'2025-001', title:'SPTA Records Turnover Request Resolution', introducedBy:'VP Grace Echavia', basis:'DepEd Order No. 13, s. 2022 – Sec. 7(a)', status:'Approved'},
      {no:'2025-002', title:'Creation of a New SPTA By-Laws', introducedBy:'VP Grace Echavia', basis:'DepEd Order No. 13, s. 2022 – Sec. 8(a–c)', status:'ApprovedPendingSignatures'},
      {no:'2025-003', title:'Policy on Voluntary School Contributions (VSCs)', introducedBy:'Treas. Leizelyn Agoy-Agoy', basis:'DepEd Order No. 13, s. 2022 – Sec. 10(a–b)', status:'Proposed'},
      {no:'2025-004', title:'Anonymous Feedback/Complaint Form for Parents', introducedBy:'BoD Pedro L. Siervo, Jr.', basis:'DepEd Order No. 13, s. 2022 – Sec. 7(c)', status:'Approved'},
      {no:'2025-005', title:'Establishing the SPTA Records Management and Archiving', introducedBy:'BoD Riza Obsequio', basis:'EO No. 2, s. 2016; DepEd Order No. 13, s. 2022 – Sec. 9', status:'ApprovedPendingSignatures'},
      {no:'2025-006', title:'Formation of SPTA Committees with Defined Roles', introducedBy:'BoD Jennifer P. Ferrancol', basis:'DepEd Order No. 13, s. 2022 – Sec. 8(d)', status:'Proposed'}
    ];

    function populateResoTable(tableId, rows){
      const tbody = document.querySelector(`#${tableId} tbody`);
      if(!tbody) return;
      tbody.innerHTML = '';
      if(!rows || rows.length===0){
        tbody.innerHTML = `<tr><td colspan="4" class="text-center text-muted">No items yet.</td></tr>`;
        return;
      }
      rows.forEach(r=>{
        const tr = document.createElement('tr');
        tr.innerHTML = `
          <td>${r.no}</td>
          <td>${r.title}</td>
          <td>${r.introducedBy}</td>
          <td>${r.basis}</td>`;
        tbody.appendChild(tr);
      });
    }

    function renderResolutionTables(){
      populateResoTable('tbl-proposed', resolutionsData.filter(r=>r.status==='Proposed'));
      populateResoTable('tbl-pending', resolutionsData.filter(r=>r.status==='ApprovedPendingSignatures'));
      populateResoTable('tbl-approved', resolutionsData.filter(r=>r.status==='Approved'));
    }

    // Officers (unchanged)
    const officers=[{name:'Joven Moralejo',role:'President',photo:'assets/photos/officers/01pres.png'},
      {name:'(Vacant)',role:'Vice President',photo:'assets/photos/officers/10blank.png'},
      {name:'Leizelyn Agoy-Agoy',role:'Treasurer',photo:'assets/photos/officers/03treas.png'},
      {name:'Maibel Ostonal',role:'Secretary',photo:'assets/photos/officers/04sec.png'},
      {name:'Riza Obsequio',role:'Board of Director',photo:'assets/photos/officers/05bodriza.png'},
      {name:'Jennifer P. Ferrancol',role:'Board of Director',photo:'assets/photos/officers/06bodjennifer.png'},
      {name:'Donnabel Lavides',role:'Board of Director',photo:'assets/photos/officers/07boddonna.png'},
      {name:'Dahna Dale R. Pascual',role:'Board of Director',photo:'assets/photos/officers/08boddahna.png'},
      {name:'Pedro L. Siervo, Jr.',role:'Board of Director',photo:'assets/photos/officers/08bodpedro.png'}];

    const fallbackSrc=`data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' width='64' height='64'><rect width='100%' height='100%' fill='%23e9ecef'/><text x='50%' y='54%' font-size='10' text-anchor='middle' fill='%236c757d'>No Photo</text></svg>`;    
    function renderOfficers(){
      const grid=document.getElementById('officersGrid');if(!grid)return;grid.innerHTML='';
      officers.forEach(o=>{
        const col=document.createElement('div');col.className='col';
        col.innerHTML=`<div class="card shadow-soft h-100"><div class="card-body d-flex align-items-center gap-3">
          <img class="rounded-circle border" alt="${o.name}" style="width:64px;height:64px;object-fit:cover"/>
          <div><div class="fw-semibold">${o.name}</div><div class="text-muted small">${o.role}</div></div></div></div>`;
        const img=col.querySelector('img');img.src=o.photo;img.onerror=()=>{img.src=fallbackSrc};grid.appendChild(col);
      });
    }

    document.addEventListener('DOMContentLoaded',()=>{
      document.getElementById('year').textContent=new Date().getFullYear();
      renderResolutionTables();
      renderOfficers();
    });
  </script>
</body>
</html>
